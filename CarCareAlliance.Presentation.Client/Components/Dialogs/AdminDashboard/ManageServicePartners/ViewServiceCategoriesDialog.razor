@using System.ComponentModel.DataAnnotations
@using CarCareAlliance.Presentation.Client.Models.ServicePartners

<MudDialog>
    <DialogContent>
        <MudForm Model="@Model">
            <MudGrid>
                <MudItem xs="12" md="6">
                    <MudSelect Placeholder="Please Select Category"
                               T="@ServiceCategory"
                               Label="Category"
                               Variant="Variant.Outlined"
                               AnchorOrigin="Origin.BottomCenter"
                               @bind-Value="selectedCategory">
                        @foreach (var category in Model.ServiceCategories)
                        {
                            <MudSelectItem T="ServiceCategory" Value="category">@category.Name</MudSelectItem>
                        }
                    </MudSelect>
                </MudItem>
                <MudItem xs="12" md="6">
                    <MudSelect Disabled="selectedCategory == null" Placeholder="Please Select Service" T="Service" Label="Service" Variant="Variant.Outlined" AnchorOrigin="Origin.BottomCenter" @bind-Value="selectedService">
                        @if (selectedCategory != null)
                        {
                            @foreach (var service in selectedCategory.Services)
                            {
                                <MudSelectItem T="Service" Value="service">@service.Name</MudSelectItem>
                            }
                        }
                    </MudSelect>
                </MudItem>
                @if (selectedCategory != null)
                {
                    <MudItem xs="12" md="6">
                        <MudTextField Style="margin: 0 4px;" ReadOnly="true" Variant="Variant.Outlined" Label="Category name" Value="@selectedCategory?.Name"></MudTextField>
                    </MudItem>
                    <MudItem xs="12" md="6">
                        <MudTextField Style="margin: 0 4px;" ReadOnly="true" Variant="Variant.Outlined" Label="Category description" Value="@selectedCategory?.Description"></MudTextField>
                    </MudItem>
                }
                @if (selectedService != null)
                {
                    <MudItem xs="12" md="6">
                        <MudTextField Style="margin: 0 4px;" ReadOnly="true" Variant="Variant.Outlined" Label="Service name" Value="@selectedService?.Name"></MudTextField>
                    </MudItem>
                    <MudItem xs="12" md="6">
                        <MudTextField Style="margin: 0 4px;" ReadOnly="true" Variant="Variant.Outlined" Label="Service description" Value="@selectedService?.Description"></MudTextField>
                    </MudItem>
                    <MudItem xs="12" md="6">
                        <MudTextField Style="margin: 0 4px;" ReadOnly="true" Variant="Variant.Outlined" Label="Service price, $" Value="@selectedService?.Price"></MudTextField>
                    </MudItem>
                    <MudItem xs="12" md="6">
                        <MudTextField Style="margin: 0 4px;" ReadOnly="true" Variant="Variant.Outlined" Label="Service duration, min" Value="@selectedService?.Duration"></MudTextField>
                    </MudItem>
                }
            </MudGrid>
        </MudForm>
    </DialogContent>
</MudDialog>